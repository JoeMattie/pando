"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[66972],{61411:function(e,t,n){const o=n(86521);t.Z=function(e){return(0,o.jsx)("svg",{"aria-label":"github logo",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img",fill:"currentColor",className:"ps-icon-svg",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12a10 10 0 0 0-20 0Z"})})}},75362:function(e,t,n){const o=n(86521);t.Z=function(e){return(0,o.jsx)("svg",{"aria-label":"NPM logo",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img",fill:"currentColor",className:"ps-icon-svg",...e,children:(0,o.jsx)("path",{d:"M12 12.444h-1.111v-2.222H12v2.222ZM22 8v6.667H12v1.11H7.556v-1.11H2V8h20ZM7.556 9.111H3.11v4.445h2.222v-3.334h1.111v3.334h1.112V9.11Zm5.555 0H8.667v5.556h2.222v-1.111h2.222V9.11Zm7.778 0h-6.667v4.445h2.222v-3.334h1.112v3.334h1.11v-3.334h1.112v3.334h1.11V9.11Z"})})}},85678:function(e,t,n){n.d(t,{A:function(){return r}});var o=n(45721);function r(e){return(0,o.useEffect)((()=>{function t(t){"Escape"===t.key&&(t.stopPropagation(),t.preventDefault(),e())}return window.addEventListener("keydown",t,!1),()=>{window.removeEventListener("keydown",t,!1)}}),[e]),null}},34325:function(e,t,n){n.d(t,{P:function(){return r}});var o=n(45721);function r(e){const t=(0,o.useRef)(null),n=(0,o.useCallback)((()=>{const e=t.current?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')??[];return{firstItem:e[0],lastItem:e[e.length-1]}}),[t]),r=(0,o.useCallback)((e=>{const{activeElement:t}=document,{firstItem:o,lastItem:r}=n();"Tab"===e.key&&(e.shiftKey?t===o&&(e.preventDefault(),r.focus()):t===r&&(e.preventDefault(),o.focus()))}),[n]),a=(0,o.useCallback)((e=>{if((null==e||e)&&document.body.setAttribute("data-modal-open","true"),null!=t.current){const{firstItem:e}=n();document.activeElement!==e&&e.focus()}}),[n,t]);return(0,o.useEffect)((()=>{const t=e.current;return()=>{document.body.removeAttribute("data-modal-open"),t?.focus()}}),[e]),{ref:t,setupFocusTrap:a,onKeyDown:r}}},67235:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(45721),r={base:"base_M3w8",column:"column_mb9C base_M3w8",grid:"grid_EiLr base_M3w8"};const a={alignItems:"center",column:!1,gridCols:0,justifyContent:"space-between",textAlign:"center",type:"base"};function i(e){void 0===e&&(e=a);const t=e.type??a.type,n=e.gridColumns?`repeat(${e.gridColumns}, minmax(auto, max-content))`:"initial",i={alignItems:e.alignItems,gridTemplateColumns:n,justifyContent:e.justifyContent,textAlign:e.textAlign??"center",gap:e.gap??"1rem",columnGap:e.columnGap};return o.createElement("div",{className:r[t],style:i},e.children)}},25302:function(e,t,n){n.d(t,{Z:function(){return x}});var o=n(81648),r=n(45721),a=n(37677),i="button_sEkW",s="chakra_ow8e",l="chakraCircle_c8Xz",p="list_rMMG",c="listItem_bLPI",d="icon_nzIq",u="svelteBackground_c8BA",m="svelteOutline_tdvb";const g=r.createElement("svg",{"aria-hidden":"true",className:d,focusable:"false",viewBox:"0 0 24 24"},r.createElement("path",{fillRule:"evenodd",d:"m14.266 4.311.94.342a.5.5 0 0 1 .299.641l-5.13 14.096a.5.5 0 0 1-.641.299l-.94-.343a.5.5 0 0 1-.299-.64l5.13-14.096a.5.5 0 0 1 .641-.299zm1.791 11.044.798.793a.5.5 0 0 0 .706-.002l3.788-3.802a.5.5 0 0 0 0-.707L17.56 7.853a.5.5 0 0 0-.706 0l-.796.794a.5.5 0 0 0 0 .708l2.642 2.639-2.644 2.654a.5.5 0 0 0 .001.707zm-8.706.793.797-.793a.5.5 0 0 0 .001-.707l-2.644-2.654 2.642-2.64a.5.5 0 0 0 0-.707l-.795-.794a.5.5 0 0 0-.707 0l-3.788 3.784a.5.5 0 0 0-.001.707l3.788 3.802a.5.5 0 0 0 .707.002z"})),h=r.createElement("svg",{"aria-hidden":"true",className:d,focusable:"false",viewBox:"0 0 1024 1024"},r.createElement("path",{d:"M755 140.3l0.5-0.3h0.3L512 0 268.3 140h-0.3l0.8 0.4L68.6 256v512L512 1024l443.4-256V256L755 140.3z m-30 506.4v171.2L548 920.1V534.7L883.4 341v215.7l-158.4 90z m-584.4-90.6V340.8L476 534.4v385.7L300 818.5V646.7l-159.4-90.6zM511.7 280l171.1-98.3 166.3 96-336.9 194.5-337-194.6 165.7-95.7L511.7 280z"})),v=r.createElement("svg",{"aria-hidden":"true",className:`${d}`,fill:"none",focusable:"false",viewBox:"0 0 98.1 118",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{className:m,d:"M91.8 15.6C80.9-.1 59.2-4.7 43.6 5.2L16.1 22.8C8.6 27.5 3.4 35.2 1.9 43.9c-1.3 7.3-.2 14.8 3.3 21.3-2.4 3.6-4 7.6-4.7 11.8-1.6 8.9.5 18.1 5.7 25.4 11 15.7 32.6 20.3 48.2 10.4l27.5-17.5c7.5-4.7 12.7-12.4 14.2-21.1 1.3-7.3.2-14.8-3.3-21.3 2.4-3.6 4-7.6 4.7-11.8 1.7-9-.4-18.2-5.7-25.5"}),r.createElement("path",{className:u,d:"M40.9 103.9c-8.9 2.3-18.2-1.2-23.4-8.7-3.2-4.4-4.4-9.9-3.5-15.3.2-.9.4-1.7.6-2.6l.5-1.6 1.4 1c3.3 2.4 6.9 4.2 10.8 5.4l1 .3-.1 1c-.1 1.4.3 2.9 1.1 4.1 1.6 2.3 4.4 3.4 7.1 2.7.6-.2 1.2-.4 1.7-.7L65.5 72c1.4-.9 2.3-2.2 2.6-3.8.3-1.6-.1-3.3-1-4.6-1.6-2.3-4.4-3.3-7.1-2.6-.6.2-1.2.4-1.7.7l-10.5 6.7c-1.7 1.1-3.6 1.9-5.6 2.4-8.9 2.3-18.2-1.2-23.4-8.7-3.1-4.4-4.4-9.9-3.4-15.3.9-5.2 4.1-9.9 8.6-12.7l27.5-17.5c1.7-1.1 3.6-1.9 5.6-2.5 8.9-2.3 18.2 1.2 23.4 8.7 3.2 4.4 4.4 9.9 3.5 15.3-.2.9-.4 1.7-.7 2.6l-.5 1.6-1.4-1c-3.3-2.4-6.9-4.2-10.8-5.4l-1-.3.1-1c.1-1.4-.3-2.9-1.1-4.1-1.6-2.3-4.4-3.3-7.1-2.6-.6.2-1.2.4-1.7.7L32.4 46.1c-1.4.9-2.3 2.2-2.6 3.8s.1 3.3 1 4.6c1.6 2.3 4.4 3.3 7.1 2.6.6-.2 1.2-.4 1.7-.7l10.5-6.7c1.7-1.1 3.6-1.9 5.6-2.5 8.9-2.3 18.2 1.2 23.4 8.7 3.2 4.4 4.4 9.9 3.5 15.3-.9 5.2-4.1 9.9-8.6 12.7l-27.5 17.5c-1.7 1.1-3.6 1.9-5.6 2.5"}));const f={items:["source","styled","chakra","joy","svelte"],results:{source:{icon:g,id:"source",href:"",label:"Show full source"},styled:{icon:h,id:"styled",label:"View styled components \ud83d\udc85"},chakra:{icon:r.createElement("svg",{"aria-hidden":"true",className:`${d} ${s}`,fill:"none",focusable:"false",viewBox:"0 0 582 582",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{className:l,width:"582",height:"582",rx:"291"}),r.createElement("path",{d:"M157.521 303.421L355.881 106.426C359.587 102.746 365.55 107.225 363.049 111.809L289.22 247.123C287.573 250.141 289.758 253.821 293.196 253.821H420.782C424.892 253.821 426.877 258.857 423.872 261.661L200.293 470.326C196.284 474.067 190.317 468.796 193.536 464.356L299.373 318.351C301.543 315.357 299.404 311.164 295.706 311.164H160.713C156.67 311.164 154.653 306.27 157.521 303.421Z"})),id:"chakra",label:"View Chakra"},joy:{icon:r.createElement("svg",{"aria-hidden":"true",className:d,fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.343 21.976a1 1 0 00.502-.864l.018-5.787a1 1 0 01.502-.864l3.137-1.802a1 1 0 011.498.867v10.521a1 1 0 01-.502.867l-11.839 6.8a1 1 0 01-.994.001l-9.291-5.314a1 1 0 01-.504-.868v-5.305c0-.006.007-.01.013-.007.005.003.012 0 .012-.007v-.006c0-.004.002-.008.006-.01l7.652-4.396c.007-.004.004-.015-.004-.015a.008.008 0 01-.008-.008l.015-5.201a1 1 0 00-1.5-.87l-5.687 3.277a1 1 0 01-.998 0L6.666 9.7a1 1 0 00-1.499.866v9.4a1 1 0 01-1.496.869l-3.166-1.81a1 1 0 01-.504-.87l.028-16.43A1 1 0 011.527.86l10.845 6.229a1 1 0 00.996 0L24.21.86a1 1 0 011.498.868v16.434a1 1 0 01-.501.867l-5.678 3.27a1 1 0 00.004 1.735l3.132 1.783a1 1 0 00.993-.002l6.685-3.839zM31 7.234a1 1 0 001.514.857l3-1.8A1 1 0 0036 5.434V1.766A1 1 0 0034.486.91l-3 1.8a1 1 0 00-.486.857v3.668z",fill:"#007FFF"})),id:"joy",label:"View MUI / Joy"},svelte:{icon:v,id:"svelte",label:"View Svelte"}}},k={size:"m",usage:"text"};function b(e){const t=f.results[e.techId],{className:n}=(0,a.g)(k).button,o=`https://codesandbox.io/s/${e.href}?file=/src/App.tsx`;return r.createElement("a",{"aria-label":t.label,className:`${n} ${i}`,href:o,name:t.label,rel:"noopener noreferrer",target:"_blank",title:t.label},e.children)}function P(e){const{techId:t}=e,{className:n,...s}={...(0,a.g)(k)}.button;return r.createElement("button",(0,o.Z)({className:`${n} ${i}`,onClick:e.onToggleShow,title:f.results[t].label},s),r.createElement(y,{tabId:t}))}function y(e){return f.results[e.tabId].icon}function w(e){const{techId:t}=e;return r.createElement("li",{className:c},"source"===t?r.createElement(P,{onToggleShow:e.onToggleShow,techId:t}):r.createElement(b,{techId:t,href:e.sandboxList[t]},r.createElement(y,{tabId:t})))}function C(e){return r.createElement("ul",{className:p},f.items.map((t=>r.createElement(w,{key:t,onToggleShow:e.onToggleShow,sandboxList:e.sandboxList,techId:t}))))}function N(e){const[t,n]=(0,r.useState)(!1);return r.createElement("div",null,r.createElement(C,{onToggleShow:function(){n((e=>!e))},sandboxList:e.sandboxList}),t?e.fullCode:e.children)}var x=(0,r.memo)(N)},57042:function(e,t,n){n.d(t,{Z:function(){return v}});var o=n(45721),r=n(85678),a=n(67235),i=n(81648),s=n(34325),l=n(4863),p=n(15082),c=n(37677),d=n(65553);function u(e){const t=(0,o.useRef)(null),n=(0,p.g)({bodyId:`${e.id}-body`,headerId:e.heading&&`${e.id}-header`,ariaLabel:e.title,id:e.id,isExpanded:e.expanded,position:e.position}),{ref:r,onKeyDown:a,setupFocusTrap:l}=(0,s.P)(t);return(0,o.useEffect)((()=>{l(!1)}),[l]),o.createElement("div",n.wrapper,o.createElement("button",(0,i.Z)({},n.trigger,{onClick:e.onClick,ref:t,id:e.triggerId}),e.children),e.expanded&&o.createElement("section",(0,i.Z)({},n.popover,{ref:r}),o.createElement("div",(0,i.Z)({},n.content,{onKeyDown:a}),e.heading&&o.createElement(m,n.header,e.heading),o.createElement(g,n.body,e.content),o.createElement(h,(0,i.Z)({},n,{onClick:e.handleClose})))))}function m(e){const{children:t,...n}=e;return o.createElement("header",n,t)}function g(e){const{children:t,...n}=e;return o.createElement("div",n,t)}function h(e){const{onClick:t,...n}=e,r=(0,c.g)(n.closeButtonOptions),a=(0,d.g)(r.iconOptions);return o.createElement("span",n.closeButtonWrapper,o.createElement("button",(0,i.Z)({},r.button,{onClick:t}),o.createElement(l.Z,a)))}var v=function(){const[e,t]=(0,o.useState)(!1);function n(){t(!1)}return(0,r.A)(n),o.createElement(a.Z,null,o.createElement(u,{id:"popover-example",heading:"Popover heading",triggerId:"popover-example-trigger",expanded:e,onClick:function(){t((e=>!e))},handleClose:n,content:o.createElement("span",null,"Popover content may contain ",o.createElement("a",{href:"/"},"links")," and other elements and markup.")},"Basic popover"))}},93621:function(e,t,n){n.d(t,{a:function(){return a},i:function(){return i}});var o=n(45721),r=n(27233);function a(){return o.createElement(r.Z,null,"<div {...popoverProps.wrapper}>\n  <button {...popoverProps.trigger}>\n    Basic popover\n  </button>\n\n  <section {...popoverProps.popover}>\n    <div {...popoverProps.content}>\n      <header {...popoverProps.header}>{props.heading}</header>\n      <div {...popoverProps.body}>{props.content}</div>\n      <span {...popoverProps.closeButtonWrapper}>\n        <button {...iconButtonProps.button}>\n          <CloseIcon {...getIconProps(iconButtonProps.iconOptions)} />\n        </button>\n      </span>\n    </div>\n  </section>\n</div>")}function i(){return o.createElement(r.Z,null,"import { useEffect, useRef } from 'react'\nimport { useFocusTrap } from '@pluralsight/react-utils'\nimport { CloseIcon } from '@pluralsight/icons'\nimport {\n  getIconButtonProps,\n  getIconProps,\n  getPopoverProps,\n} from '@pluralsight/headless-styles'\n\nexport default function Popover(props) {\n  const triggerRef = useRef(null)\n  const popoverProps = getPopoverProps({\n    bodyId: `${props.id}-body`,\n    headerId: props.heading && `${props.id}-header`,\n    ariaLabel: props.title,\n    id: props.id,\n    isExpanded: props.expanded,\n    position: props.position,\n  })\n  const { ref, onKeyDown, setupFocusTrap } = useFocusTrap(triggerRef)\n\n  useEffect(() => {\n    setupFocusTrap(false)\n  }, [setupFocusTrap])\n\n  return (\n    <div {...popoverProps.wrapper}>\n      <button\n        {...popoverProps.trigger}\n        onClick={props.onClick}\n        ref={triggerRef}\n        id={props.triggerId}\n      >\n        {props.children}\n      </button>\n\n      {props.expanded && (\n        <section {...popoverProps.popover} ref={ref}>\n          <div {...popoverProps.content} onKeyDown={onKeyDown}>\n            {props.heading && (\n              <Header {...popoverProps.header}>{props.heading}</Header>\n            )}\n            <Body {...popoverProps.body}>{props.content}</Body>\n            <CloseButton {...popoverProps} onClick={props.handleClose} />\n          </div>\n        </section>\n      )}\n    </div>\n  )\n}\n\nfunction Header(props) {\n  const { children, ...popoverProps } = props\n  return <header {...popoverProps}>{children}</header>\n}\n\nfunction Body(props) {\n  const { children, ...popoverProps } = props\n\n  return <div {...popoverProps}>{children}</div>\n}\n\nfunction CloseButton(props) {\n  const { onClick, ...popoverProps } = props\n  const iconButtonProps = getIconButtonProps(popoverProps.closeButtonOptions)\n  const iconProps = getIconProps(iconButtonProps.iconOptions)\n\n  return (\n    <span {...popoverProps.closeButtonWrapper}>\n      <button {...iconButtonProps.button} onClick={onClick}>\n        <CloseIcon {...iconProps} />\n      </button>\n    </span>\n  )\n}")}},69477:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(45721),r=n(41539),a=n(65553),i=n(61411),s=n(75362);function l(e){const{href:t}=e,n=(0,r.g)({href:t}),l=(0,a.g)(n.iconOptions),p=t.includes("github")?i.Z:s.Z;return o.createElement("a",n.link,o.createElement(p,l),e.children)}},12045:function(e,t,n){var o=n(45721),r=n(83052),a=n(79920),i=n(77233),s=n(49632),l=n(37677),p=n(65553),c=n(1579),d=n(72322),u=n(85914),m=n(15082),g=n(54067),h=n(80069),v=n(82979),f=n(74361),k=n(64388),b=n(17549),P=n(4863),y=n(77643),w=n(21556),C=n(71111),N=n(31942),x=n(61586),E=n(1263),I=n(7315),L=n(61700);const S={React:o,...o,getButtonProps:r.g,getFormControlProps:a.g,getFormLabelProps:i.g,getGridProps:s.g,getGridItemProps:s.a,getIconButtonProps:l.g,getIconProps:p.g,getInputProps:c.g,getMenuProps:d.g,getMenuItemProps:d.a,getPaginationProps:u.g,getPopoverProps:m.g,getRadioProps:g.g,getSelectProps:h.g,getSelectOptionProps:h.a,getTagProps:v.g,CalendarIcon:f.Z,ChevronDownIcon:k.Z,ChevronRightIcon:b.Z,CloseIcon:P.Z,EyeIcon:y.Z,EyeOffIcon:w.Z,PlaceholderIcon:C.Z,WarningTriangleFilledIcon:N.Z,useAutoFormatDate:x.y,useMenuInteraction:E.P,useRovingTabIndex:I.X,useSubmenuInteraction:L.i};t.Z=S},7674:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return h},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return m}});var o=n(81648),r=(n(45721),n(70167)),a=n(57042),i=n(93621),s=n(69477),l=n(25302);n(67867);const p={tags:["dialog","popup"],title:"Popover"},c=void 0,d={unversionedId:"development/headless-styles/Popover",id:"version-0.4.0-rc/development/headless-styles/Popover",title:"Popover",description:"A popover is a non-modal dialog that floats around a trigger.",source:"@site/versioned_docs/version-0.4.0-rc/development/headless-styles/Popover.mdx",sourceDirName:"development/headless-styles",slug:"/development/headless-styles/Popover",permalink:"/docs/development/headless-styles/Popover",draft:!1,editUrl:"https://github.com/pluralsight/pando/edit/main/website/versioned_docs/version-0.4.0-rc/development/headless-styles/Popover.mdx",tags:[{label:"dialog",permalink:"/docs/tags/dialog"},{label:"popup",permalink:"/docs/tags/popup"}],version:"0.4.0-rc",lastUpdatedBy:"Tom Pietrosanti",frontMatter:{tags:["dialog","popup"],title:"Popover"},sidebar:"development",previous:{title:"Pagination",permalink:"/docs/development/headless-styles/Pagination"},next:{title:"Progress",permalink:"/docs/development/headless-styles/Progress"}},u={},m=[{value:"Import",id:"import",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Popover",id:"basic-popover",level:3},{value:"Positions",id:"positions",level:3},{value:"React hooks",id:"react-hooks",level:2},{value:"Accessibility",id:"accessibility",level:2},{value:"API",id:"api",level:2},{value:"Options",id:"options",level:2},{value:"PopoverOptions",id:"popoveroptions",level:3},{value:"Props",id:"props",level:2},{value:"PopoverProps",id:"popoverprops",level:3},{value:"JSPopoverProps",id:"jspopoverprops",level:3}],g={toc:m};function h(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"A popover is a non-modal dialog that floats around a trigger."),(0,r.kt)(s.Z,{icon:"github",href:"https://github.com/pluralsight/pando/tree/main/packages/headless-styles/src/components/Popover",mdxType:"ViewSourceLink"},"View source"),(0,r.kt)("h2",{id:"import"},"Import"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { getPopoverProps } from '@pluralsight/headless-styles'\n")),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"basic-popover"},"Basic Popover"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"getPopoverProps")," requires a set of IDs corresponding to the popover container (",(0,r.kt)("inlineCode",{parentName:"p"},"id"),"), header element (",(0,r.kt)("inlineCode",{parentName:"p"},"headerId"),"), and content body (",(0,r.kt)("inlineCode",{parentName:"p"},"bodyId"),").\nIf a header is not present, provide an accessible label using the ",(0,r.kt)("inlineCode",{parentName:"p"},"ariaLabel")," prop instead."),(0,r.kt)(a.Z,{mdxType:"BasicPopover"}),(0,r.kt)(l.Z,{fullCode:(0,r.kt)(i.i,{mdxType:"BasicPopoverFullPreview"}),sandboxList:{chakra:"",joy:"",styled:"",svelte:""},mdxType:"LiveExampleTabs"},(0,r.kt)(i.a,{mdxType:"BasicPopoverPreview"})),(0,r.kt)("h3",{id:"positions"},"Positions"),(0,r.kt)("p",null,"Popovers can be placed in any of 12 positions relative to the trigger. Options are:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"topStart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"top")," ",(0,r.kt)("strong",{parentName:"p"},"(default)"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"topEnd"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"leftStart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"left"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"leftEnd"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"rightStart"),",",(0,r.kt)("inlineCode",{parentName:"p"},"right"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"rightEnd"),",\n",(0,r.kt)("inlineCode",{parentName:"p"},"bottomStart"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"bottom"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"bottomEnd")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function PopoverPositions(props) {\n  const popoverProps = getPopoverProps({\n    bodyId: `popoverPositions-body`,\n    headerId: `popoverPositions-header`,\n    id: 'popoverPositions',\n    isExpanded: true,\n    position: 'top',\n  })\n  const iconButtonProps = getIconButtonProps(popoverProps.closeButtonOptions)\n  const iconProps = getIconProps(iconButtonProps.iconOptions)\n  // \ud83d\udca1 This is only here to overwrite docs styling\n  const docStyleOverride = {\n    padding: '5rem',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  }\n\n  return (\n    <div style={docStyleOverride}>\n      <div {...popoverProps.wrapper}>\n        <button {...popoverProps.trigger}>Popover Trigger</button>\n\n        <section {...popoverProps.popover}>\n          <div {...popoverProps.content}>\n            <header {...popoverProps.header}>Popover heading</header>\n            <div {...popoverProps.body}>Lorem ipsum dolor sit amet</div>\n            <span {...popoverProps.closeButtonWrapper}>\n              <button {...iconButtonProps.button}>\n                <CloseIcon {...iconProps} />\n              </button>\n            </span>\n          </div>\n        </section>\n      </div>\n    </div>\n  )\n}\n")),(0,r.kt)("h2",{id:"react-hooks"},"React hooks"),(0,r.kt)("p",null,"For full functionality and accessibility, we use the following hooks in our examples:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/development/react-utils/use-focus-trap"},"useFocusTrap"),": traps focus within the popover dialog"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/development/react-utils/use-esc-to-close"},"useEscToClose"),": closes the popover when a user presses the ",(0,r.kt)("inlineCode",{parentName:"li"},"Escape")," key")),(0,r.kt)("h2",{id:"accessibility"},"Accessibility"),(0,r.kt)("p",null,"To make the Popover as accessible as possible, we use a few required parameters to add additional a11y functionality to the component."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"id: sets the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," attribute on the Popover container"),(0,r.kt)("li",{parentName:"ul"},"headerId: used for the ",(0,r.kt)("inlineCode",{parentName:"li"},"aria-labeledby")," attribute on the ",(0,r.kt)("inlineCode",{parentName:"li"},"popover")," element and set as the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," on the header element for the Popover"),(0,r.kt)("li",{parentName:"ul"},"bodyId: used for the ",(0,r.kt)("inlineCode",{parentName:"li"},"aria-describedby")," attribute on the ",(0,r.kt)("inlineCode",{parentName:"li"},"popover")," element and set as the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," on the body element for the Popover"),(0,r.kt)("li",{parentName:"ul"},"ariaLabel: used ",(0,r.kt)("strong",{parentName:"li"},"only")," when the headerId is absent to provide a label for non-sighted users"),(0,r.kt)("li",{parentName:"ul"},"isExpanded: used for the ",(0,r.kt)("inlineCode",{parentName:"li"},"aria-expanded")," attribute on the ",(0,r.kt)("inlineCode",{parentName:"li"},"trigger")," element, indicating the display state of the popover")),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Argument Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getPopoverProps")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"options"),": ",(0,r.kt)("a",{parentName:"td",href:"#popoveroptions"},"PopoverOptions")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"position"),": 'top'"),(0,r.kt)("td",{parentName:"tr",align:null},"Get popover styles for CSS usage.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getJSPopoverProps")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"options"),": ",(0,r.kt)("a",{parentName:"td",href:"#popoveroptions"},"PopoverOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"same as CSS API"),(0,r.kt)("td",{parentName:"tr",align:null},"CSS-in-JS API")))),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("h3",{id:"popoveroptions"},"PopoverOptions"),(0,r.kt)("p",null,"This interface is available as an ",(0,r.kt)("inlineCode",{parentName:"p"},"import")," for use."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface PopoverOptions {\n  ariaLabel?: string\n  bodyId: string\n  headerId?: string\n  id: string\n  isExpanded?: boolean\n  position?:\n    | 'topStart'\n    | 'top'\n    | 'topEnd'\n    | 'rightStart'\n    | 'right'\n    | 'rightEnd'\n    | 'bottomStart'\n    | 'bottom'\n    | 'bottomEnd'\n    | 'leftStart'\n    | 'left'\n    | 'leftEnd'\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Import example"',title:'"Import','example"':!0},"import type { PopoverOptions } from '@pluralsight/headless-styles/types'\n")),(0,r.kt)("h2",{id:"props"},"Props"),(0,r.kt)("h3",{id:"popoverprops"},"PopoverProps"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface PopoverProps {\n  wrapper: {\n    className: string\n  }\n  trigger: {\n    'aria-haspopup': 'dialog'\n    'aria-expanded': boolean\n    'aria-controls': string\n    className: string\n    tabIndex: 0\n  }\n  popover: {\n    'aria-describedby': string\n    'aria-label': string\n    'aria-labelledby': string\n    className: string\n    'data-expanded': boolean\n    'data-popover': true\n    id: string\n    role: 'dialog'\n  }\n  content: {\n    className: string\n  }\n  header: {\n    className: string\n    id: string\n  }\n  body: {\n    id: string\n  }\n  closeButtonWrapper: {\n    className: string\n  }\n  closeButtonOptions: {\n    ariaLabel: 'Close popover'\n    sentiment: 'default'\n    size: 'm'\n    usage: 'text'\n  }\n}\n")),(0,r.kt)("h3",{id:"jspopoverprops"},"JSPopoverProps"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface JSPopoverProps {\n  wrapper: {\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  trigger: {\n    a11yProps: {\n      'aria-haspopup': 'dialog'\n      'aria-expanded': boolean\n      'aria-controls': string\n      tabIndex: 0\n    }\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  popover: {\n    a11yProps: {\n      'aria-describedby': string\n      'aria-label': string\n      'aria-labelledby': string\n      'data-expanded': boolean\n      'data-popover': true\n      id: string\n      role: 'dialog'\n    }\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  content: {\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  header: {\n    a11yProps: {\n      id: string\n    }\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  body: {\n    a11yProps: {\n      id: string\n    }\n  }\n  closeButtonWrapper: {\n    cssProps: TemplateLiteralString\n    styles: Record<string, unknown>\n  }\n  closeButtonOptions: {\n    ariaLabel: 'Close popover'\n    sentiment: 'default'\n    size: 'm'\n    usage: 'text'\n  }\n}\n")))}h.isMDXComponent=!0},67867:function(e,t,n){n.d(t,{ZP:function(){return i}});var o=n(81648),r=(n(45721),n(70167));const a={toc:[{value:"React Performance Requirements",id:"react-performance-requirements",level:3},{value:"Use React-utils",id:"use-react-utils",level:4},{value:"Use Callbacks",id:"use-callbacks",level:4},{value:"Use ForwardRef",id:"use-forwardref",level:4},{value:"Use Memo",id:"use-memo",level:4}]};function i(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},a,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"react-performance-requirements"},"React Performance Requirements"),(0,r.kt)("p",null,"To ensure you are keeping your app as performant as possible, there are a few helpers you will need to include in your code to deliver the highest quality result."),(0,r.kt)("h4",{id:"use-react-utils"},"Use React-utils"),(0,r.kt)("p",null,"We have a helper package @pluralsight/react-utils that you can use (we include this in the expanded basic code example) which contains custom hooks and other helpers to reduce your code base and keep the modal a11y compliant."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/development/react-utils/use-focus-trap"},(0,r.kt)("inlineCode",{parentName:"a"},"useFocusTrap"))," - custom hook that keeps the focus trapped within a modal when it is active. When the modal is closed, it returns focus to the component that triggered the modal to open."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/development/react-utils/use-esc-to-close"},(0,r.kt)("inlineCode",{parentName:"a"},"useEscToClose")),' - custom hook that registers an event to close the modal when the "Escape" key is pressed.')),(0,r.kt)("h4",{id:"use-callbacks"},"Use Callbacks"),(0,r.kt)("p",null,"Whenever you pass a function into another ",(0,r.kt)("strong",{parentName:"p"},"custom")," component as one of its props, wrap the function in a ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-reference.html#usecallback"},(0,r.kt)("inlineCode",{parentName:"a"},"useCallback")," hook"),". This is a recommended practice to help reduce unnecessary re-rendering/commiting in React apps."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Using a Callack hook when passing functions as props"',title:'"Using',a:!0,Callack:!0,hook:!0,when:!0,passing:!0,functions:!0,as:!0,'props"':!0},'function BasicConfirmDialog() {\n  const triggerRef = useRef(null)\n  const [showAlert, setShowDialog] = useState(false)\n\n  // highlight-start\n  const handleCloseDialog = useCallback(() => {\n    setShowDialog(false)\n  }, [])\n  // highlight-end\n\n  function handleShowDialog() {\n    setShowDialog(true)\n  }\n\n  return (\n    <Container>\n      <button\n        {...getButtonProps().button}\n        onClick={handleShowDialog}\n        ref={triggerRef}\n      >\n        Confirm payment\n      </button>\n\n      {showAlert &&\n        createPortal(\n          <ConfirmDialog\n            dialogTitle="Confirm payment"\n            bodyId="normal-dialog-body"\n            body="Are you sure? This action can\'t be undone."\n            confirmText="Charge card"\n            headerId="normal-dialog-header"\n            id="normaldialog"\n            // highlight-next-line\n            onClose={handleCloseDialog}\n            ref={triggerRef}\n          />,\n          document.body\n        )}\n    </Container>\n  )\n}\n')),(0,r.kt)("h4",{id:"use-forwardref"},"Use ForwardRef"),(0,r.kt)("p",null,"Due to the nature of how React works with passing Ref Objects, in order for the ",(0,r.kt)("inlineCode",{parentName:"p"},"useFocusTrap")," hook to work, you need to wrap your modal component in the ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/forwarding-refs.html#gatsby-focus-wrapper"},(0,r.kt)("inlineCode",{parentName:"a"},"forwardRef")," function")," to ensure the ",(0,r.kt)("inlineCode",{parentName:"p"},"triggerRef")," has successfully passed into your component for use in the custom hook."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Not using ",(0,r.kt)("inlineCode",{parentName:"p"},"forwardRef")," will prevent some functionality of the hook from working. ",(0,r.kt)("strong",{parentName:"p"},"It will not break your app"),", but the hook will not return the focus back to the original trigger which opened it (i.e. your app will not be a11y compliant).")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Example using forwardRef"',title:'"Example',using:!0,'forwardRef"':!0},"const Modal = forwardRef(ModalEl)\n")),(0,r.kt)("h4",{id:"use-memo"},"Use Memo"),(0,r.kt)("p",null,"Lastly, you should wrap your ForwardedRef Component with the ",(0,r.kt)("inlineCode",{parentName:"p"},"memo")," function to ensure your modal component does not unnecessarily re-render/commit from the complex properties that may be passed in. This is another good practice that should become second nature when building components that accept complex properties (i.e., anything that is not a ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/Primitive"},"Primitive"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="Example using memo with forwardRef"',title:'"Example',using:!0,memo:!0,with:!0,'forwardRef"':!0},"const Modal = memo(forwardRef(ModalEl))\n")))}i.isMDXComponent=!0},41539:function(e,t,n){n.d(t,{g:function(){return l}});var o=n(98268);function r(e){return/^https?:\/\//.test(e)}function a(e){const t=function(e){return r(e)?{rel:"noopener external",target:"_blank"}:{}}(e);return{link:{href:e,...t},...r(e)&&{iconOptions:{ariaHidden:!1,ariaLabel:"(opens in a new window)",customSize:"1em"}}}}var i=n(76411);const s="textLinkCSS-module_textLinkBase__P-zdY";function l(e){const t=function(e){return{href:(null==e?void 0:e.href)??""}}(e),n=a(t.href);return{...n,link:{...n.link,...(0,o.c)(`ps-text-link ${s}`)}}}(0,i.s)(".textLinkCSS-module_textLinkBase__P-zdY{align-items:center;background-color:transparent;border-radius:6px;color:var(--ps-action-navigation);display:inline-flex;font-family:inherit;gap:.25em;outline:none;text-decoration:underline;transition:background-color .25s ease-in-out,color .25s ease-in-out}.textLinkCSS-module_textLinkBase__P-zdY:visited{color:var(--ps-action-navigation-visited)}.textLinkCSS-module_textLinkBase__P-zdY:hover{text-decoration:none}.textLinkCSS-module_textLinkBase__P-zdY:active{text-decoration:underline}.textLinkCSS-module_textLinkBase__P-zdY:focus{outline:3px solid var(--ps-action-border-focus);outline-offset:2px}.textLinkCSS-module_textLinkBase__P-zdY:focus:not(:focus-visible){box-shadow:none;outline:none}")}}]);